<?xml version="1.0" encoding="UTF-8" ?>
<ldlib2-ui xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:noNamespaceSchemaLocation="https://raw.githubusercontent.com/Low-Drag-MC/LDLib2/refs/heads/1.21/ldlib2-ui.xsd">
    <stylesheet location="ldlib2:lss/mc.lss"/>

    <!-- Tailwind-like utility classes -->
    <style>
        /* Existing component tweaks (kept as-is) */
        scroller-view {
        scroller-view-margin: 10;
        }

        .__scroller_view_view-port__ {
        background: built-in(ui-mc:RECT_1);
        padding-all: 1;
        padding-right: 0;
        }

        .absolute {
        position: absolute;
        }
        .top-0 {
        top: 0;
        }
        .left-0 {
        left: 0;
        }

        .__scroller_view_horizontal-scroller__ {
        margin-top: 2;
        }

        .__scroller_view_vertical-scroller__ {
        margin-left: 0;
        }

        .__scroller_scroll_container__ {
        padding-all: 1;
        }

        /* Utility classes */
        .flex { display: flex; }
        .grid { display: grid; }

        .row { display: flex; flex-direction: row; }
        .col { display: flex; flex-direction: column; }

        .flex-1 { flex: 1; }
        .shrink-1 { flex-shrink: 1; }

        .relative { position: relative; }

        .w-fit { width: fit-content; }
        .h-fit { height: fit-content; }
        .w-auto { width: auto; }
        .h-auto { height: auto; }
        .h-full { height: 100%; }
        .w-full { width: 100%; }

        .p-1 { padding-all: 1; }
        .p-7 { padding-all: 7; }

        .m-1 { margin-all: 1; }
        .mt-2 { margin-top: 2; }

        .gap-0 { gap-all: 0; }
        .gap-2 { gap-all: 2; }
        .gap-3 { gap-all: 3; }
        .gap-4 { gap-all: 4; }

        .items-end { align-items: flex-end; }
        .items-center { align-items: center; }
        .justify-end { justify-content: flex-end; }
        .justify-center { justify-content: center; }

        /* Semantic alias (optional; matches your old class) */
        .panel_bg { padding-all: 7; }
        .overflow-hidden { overflow: hidden; }

        .spacer {
            display: flex;
            flex-grow: 1;
        }

        .panel-inner_bg {
            background: sprite(
                betterui:textures/gui/sprites/container/inventory/player_background.png,
                0, 0, 18, 18,
                2, 2, 2, 2
            );
        }

        .panel-side {
            height: 32;
            width: 25;
            padding-all: 7;
        }

        .background {
            background: sprite(betterui:textures/gui/sprites/container/inventory/inventory_background.png);
            width: 220;
            height: 90;
            padding-all: 7;
        }

        .panel-left {
            padding-right: 0;
        }

        .panel-right {
            padding-left: 0;
        }

        .__inventory_hotbar__ {
            margin-top: 4;
        }

        #trash {
            background: sprite(
                betterui:textures/gui/sprites/container/inventory/trash_slot.png
            );
        }

        .inventory-button {
            width: 14;
            padding-all: 3;
        }

        .inventory-button--bottom {
            height: 13;
            padding-top: 2;
            base-background: sprite(
                betterui:textures/gui/sprites/container/inventory/inventory_button_bottom.png
            );
            hover-background: sprite(
                betterui:textures/gui/sprites/container/inventory/inventory_button_bottom_highlight.png
            );
            pressed-background: sprite(
                betterui:textures/gui/sprites/container/inventory/inventory_button_bottom_highlight.png
            );
        }

        .inventory-button--top {
            height: 13;
            padding-bottom: 2;
            base-background: sprite(
            betterui:textures/gui/sprites/container/inventory/inventory_button_top.png
            );
            hover-background: sprite(
            betterui:textures/gui/sprites/container/inventory/inventory_button_top_highlight.png
            );
            pressed-background: sprite(
            betterui:textures/gui/sprites/container/inventory/inventory_button_top_highlight.png
            );
        }

        .icon {
            width: 8;
            height: 8;
        }

        .icon-stack {
            background: sprite(
                betterui:textures/gui/sprites/container/inventory/icon_stack.png
            );
        }

        .icon-sort {
        background: sprite(
        betterui:textures/gui/sprites/container/inventory/icon_sort.png
        );
        }
    </style>

    <root class="flex col items-center gap-2 w-auto h-auto p-7">
        <element class="row gap-2 shrink-1 items-end">
            <element class="panel_bg row flex relative shrink-1 gap-0">
                <!-- Armor slots: group="armor", 4 slots -->
                <slots group="armor" rows="4" columns="1" indexes="0-3" />

                <element class="panel-inner_bg">
                    <entity id="entity" style="height: 72" />
                </element>
            </element>

            <element class="col">
                <element class="spacer" />
                <element class="panel_bg row shrink-1">
                    <!-- 2x2 crafting grid: group="crafting_grid", 4 slots -->
                    <slots group="crafting_grid" rows="2" columns="2" indexes="0-3" />

                    <element class="spacer" />
                    <element class="col justify-center">
                        <!-- crafting result: single slot from group="crafting_result" -->
                        <slot group="crafting_result" index="0" />
                    </element>
                </element>
            </element>
        </element>

        <element class="background row gap-4 flex items-end justify-center">
            <element class="col justify-end">
                <element class="spacer" />
                <!-- offhand slot -->
                <slot group="offhand" index="0" />
            </element>

            <!-- inventory (3x9) + hotbar (1x9) laid out via groups -->
            <element class="col gap-4">
                <!-- main inventory: 27 slots, indexes 0–26 inside group="inventory" -->
                <slots group="inventory" rows="3" columns="9" indexes="0-26" />

                <!-- hotbar: 9 slots, indexes 0–8 inside group="hotbar" -->
                <slots group="hotbar" rows="1" columns="9" indexes="0-8" />
            </element>

            <element class="col justify-end">
                <element class="spacer" />
                <!-- UI-only trash slot (bound in BetterInventoryHolderMenu) -->
                <slot group="trash" index="0" />
            </element>

            <element class="absolute" style="left: 12; top: 6;">
                <element class="col">
                    <button id="sort" class="inventory-button inventory-button--top" text="">
                        <element class="icon icon-sort" />
                    </button>
                    <button id="merge" class="inventory-button inventory-button--bottom" text="">
                        <element class="icon icon-stack" />
                    </button>
                </element>
            </element>
        </element>
    </root>
</ldlib2-ui>